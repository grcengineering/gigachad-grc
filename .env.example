# ============================================================================
# GigaChad GRC - Environment Configuration Example
# ============================================================================
# IMPORTANT: Copy this file to .env before starting the application
#            NEVER commit your .env file to version control!
#
# To create your .env file:
#   cp .env.example .env
#
# For production deployments, see: env.example.production
# ============================================================================

NODE_ENV=development

# =============================================================================
# Security Secrets (REQUIRED - Generate unique values!)
# =============================================================================
# Generate these using the commands below. NEVER use the example values!
#
# Generate encryption key:    openssl rand -hex 32
# Generate JWT/session secret: openssl rand -base64 64
# Generate passwords:          openssl rand -base64 24
# =============================================================================

# 64-character hex key for encrypting sensitive data
# Generate: openssl rand -hex 32
ENCRYPTION_KEY=generate-a-64-char-hex-key-using-openssl-rand-hex-32

# Base64 secret for JWT token signing (64+ characters)
# Generate: openssl rand -base64 64
JWT_SECRET=generate-a-secure-jwt-secret-using-openssl-rand-base64-64

# Base64 secret for session encryption (64+ characters)
# Generate: openssl rand -base64 64
SESSION_SECRET=generate-a-secure-session-secret-using-openssl-rand-base64-64

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=grc
# Generate: openssl rand -base64 24
POSTGRES_PASSWORD=change-this-to-a-secure-password
POSTGRES_DB=gigachad_grc
DATABASE_URL=postgresql://grc:change-this-to-a-secure-password@localhost:5433/gigachad_grc

# =============================================================================
# Redis Configuration
# =============================================================================
# Generate: openssl rand -base64 24
REDIS_PASSWORD=change-this-to-a-secure-redis-password
REDIS_URL=redis://:change-this-to-a-secure-redis-password@localhost:6380

# =============================================================================
# MinIO (Object Storage)
# =============================================================================
MINIO_ROOT_USER=minioadmin
# Generate: openssl rand -base64 24
MINIO_ROOT_PASSWORD=change-this-to-a-secure-minio-password
MINIO_ENDPOINT=localhost
MINIO_PORT=9000

# =============================================================================
# Authentication (Keycloak)
# =============================================================================
KEYCLOAK_ADMIN=admin
# Change this for production!
KEYCLOAK_ADMIN_PASSWORD=change-this-admin-password
KEYCLOAK_REALM=grc
# Enable for development only - MUST be false in production!
USE_DEV_AUTH=true

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:5174

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# =============================================================================
# Security: Custom Integration Code Execution
# =============================================================================
# SECURITY WARNING: Custom code execution allows users to run arbitrary JavaScript
# code via new Function(). This is a significant security risk and is DISABLED by default.
# 
# Only enable if you:
# 1. Have strong network isolation for the controls service
# 2. Trust all users with access to custom integrations
# 3. Have proper monitoring and audit logging in place
#
# When disabled, users can still use "visual mode" for custom integrations.
ENABLE_CUSTOM_CODE_EXECUTION=false

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=debug

# =============================================================================
# Frontend Configuration
# =============================================================================
VITE_API_URL=http://localhost:3001
VITE_ENABLE_DEV_AUTH=true
VITE_ENABLE_AI_MODULE=true
# Optional: CDN URL for training content (used for postMessage origin validation)
# VITE_TRAINING_CDN_URL=https://training.example.com

# =============================================================================
# Optional: AI Integration
# =============================================================================
# OPENAI_API_KEY=sk-your-openai-api-key-here
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# =============================================================================
# Optional: Slack Integration
# =============================================================================
# SLACK_ENABLED=false
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
